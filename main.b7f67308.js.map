{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","insertAdjacentHTML","pushNotification","type","title","description","setTimeout","removeChild","form","tbody","newSalary","number","newFormat","Intl","NumberFormat","format","replace","addEventListener","events","preventDefault","newData","FormData","userName","get","userAge","userSalary","length","reset","ev","selected","target","closest","children","forEach","row","classList","remove","add","headTitle","prevIndex","titleIndex","cellIndex","sorted","sort","a","b","sortA","cells","innerText","sortB","includes","localeCompare","append","reverse","prevContent","newInput","createElement","value","min","max","select","style","color","outlineColor","dataset","qa","focus","code","blur"],"mappings":"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","file":"main.b7f67308.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\n\nbody.insertAdjacentHTML('beforeend', `\n  <form \n  action=\"#\"\n  method=\"get\"\n  class=\"new-employee-form\"\n  >\n    <label>Name: \n      <input \n        name=\"name\" \n        type=\"text\" \n        data-qa=\"name\"\n        required\n      >\n    </label>\n\n    <label>Position: \n      <input \n        name=\"position\" \n        type=\"text\" \n        data-qa=\"position\"\n        required\n      >\n    </label>\n\n    <label>Office:\n      <select \n        name=\"office\" \n        data-qa=\"office\"\n        required\n      >\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age: \n      <input \n        name=\"age\" \n        type=\"number\" \n        data-qa=\"age\"\n        min=0\n        required\n      >\n    </label>\n\n    <label>Salary: \n      <input \n        name=\"salary\" \n        type=\"number\" \n        data-qa=\"salry\"\n        min=0\n        required\n      >\n    </label>\n\n    <button type=\"submit\">\n      Save to table\n    </button>\n  </form>\n`);\n\nconst pushNotification = (type, title, description) => {\n  body.insertAdjacentHTML('beforeend', `\n  <div \n    class=\"notification ${type}\"\n    data-qa=\"notification\"\n  >\n    <h1 class=\"title\">\n      ${title}\n    </h1>\n    <p>\n      ${description}\n    </p>\n  </div\n`);\n\n  setTimeout(() =>\n    body.removeChild(document.querySelector('.notification')), 3000\n  );\n};\n\nconst form = document.querySelector('form');\nconst tbody = document.querySelector('tbody');\n\nfunction newSalary(number) {\n  const newFormat = new Intl.NumberFormat('en-US');\n\n  return newFormat.format(number).replace('', '$');\n};\n\nform.addEventListener('submit', (events) => {\n  events.preventDefault();\n\n  const newData = new FormData(form);\n  const userName = newData.get('name');\n  const userAge = newData.get('age');\n  const userSalary = newData.get('salary');\n\n  if (userName.length < 4) {\n    pushNotification('error', 'Error', 'Name must have more than 3 letters');\n  } else if (userAge < 18) {\n    pushNotification('warning', 'Warning', 'Sorry, You are too young !');\n  } else if (userAge > 90) {\n    pushNotification('warning', 'Warning', `\n    Sorry, We are looking for younger specialist !\n    `);\n  } else {\n    tbody.insertAdjacentHTML('afterbegin', `\n      <tr>\n        <td>${newData.get('name')}</td>\n        <td>${newData.get('position')}</td>\n        <td>${newData.get('office')}</td>\n        <td>${newData.get('age')}</td>\n        <td>${newSalary(userSalary)}</td>\n      </tr>\n    `);\n    pushNotification('success', 'Success', 'A new employee has been added !');\n    form.reset();\n  }\n});\n\ntbody.addEventListener('click', (ev) => {\n  const selected = ev.target.closest('tr');\n\n  [...tbody.children].forEach((row) => {\n    row.classList.remove('active');\n  });\n  selected.classList.add('active');\n});\n\nconst headTitle = document.querySelector('thead');\nlet prevIndex = 0;\n\nheadTitle.addEventListener('click', ev => {\n  const titleIndex = ev.target.cellIndex;\n  const sorted = [...tbody.children].sort((a, b) => {\n    let sortA = a.cells[titleIndex].innerText;\n    let sortB = b.cells[titleIndex].innerText;\n\n    if (sortA.includes('$')) {\n      sortA = sortA.replace(/[$,]/g, '');\n      sortB = sortB.replace(/[$,]/g, '');\n\n      return sortA - sortB;\n    }\n\n    return sortA.localeCompare(sortB);\n  });\n\n  if (prevIndex === titleIndex) {\n    tbody.append(...sorted.reverse());\n    prevIndex = 10;\n  } else {\n    tbody.append(...sorted);\n    prevIndex = titleIndex;\n  }\n});\n\ntbody.addEventListener('dblclick', ev => {\n  const prevContent = ev.target.innerText;\n  let newInput = document.createElement('input');\n\n  newInput.classList.add('cell-input');\n  ev.target.innerText = '';\n  newInput.type = 'text';\n  newInput.value = '';\n\n  if (ev.target.cellIndex === 3) {\n    newInput.type = 'number';\n    newInput.min = 18;\n    newInput.max = 90;\n  }\n\n  if (ev.target.cellIndex === 4) {\n    newInput.type = 'number';\n    newInput.min = 0;\n  }\n\n  if (ev.target.cellIndex === 2) {\n    const select = document.createElement('select');\n\n    select.style.color = '#808080';\n    select.style.outlineColor = '#808080';\n    select.dataset.qa = 'office';\n\n    select.insertAdjacentHTML('afterbegin', `\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n      `);\n    newInput = select;\n  }\n\n  ev.target.append(newInput);\n  newInput.focus();\n\n  newInput.addEventListener('blur', () => {\n    if (newInput.value === '') {\n      ev.target.innerText = prevContent;\n\n      return;\n    }\n\n    if (newInput.value < 18) {\n      ev.target.innerText = prevContent;\n      pushNotification('warning', 'Warning', 'Sorry, You are too young !');\n\n      return;\n    }\n\n    if (newInput.value > 90) {\n      ev.target.innerText = prevContent;\n\n      pushNotification('warning', 'Warning', `\n      Sorry, We are looking for younger specialist !\n      `);\n\n      return;\n    }\n\n    if (ev.target.cellIndex === 4) {\n      ev.target.innerText = newSalary(newInput.value);\n\n      return;\n    }\n\n    ev.target.innerText = newInput.value;\n    newInput.remove();\n  });\n\n  newInput.addEventListener('keypress', events => {\n    if (events.code === 'Enter') {\n      newInput.blur();\n    }\n  });\n});\n"]}